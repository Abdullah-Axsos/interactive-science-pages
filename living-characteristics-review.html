<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ูุฑุงุฌุนุฉ ุชูุงุนููุฉ ููุตู ุงูุณุงุจุน: ุฎุตุงุฆุต ุงููุงุฆูุงุช ุงูุญูุฉ | ุฐููุฑ ุงููุงุฑูู ุงูุฃุณุงุณูุฉ ุงูุนููุง</title>
  <meta name="description" content="ูุฑุงุฌุนุฉ ุชูุงุนููุฉ ูุฎุตุงุฆุต ุงููุงุฆูุงุช ุงูุญูุฉ ูุทูุจุฉ ุงูุตู ุงูุณุงุจุน ุจูุฏุฑุณุฉ ุฐููุฑ ุงููุงุฑูู ุงูุฃุณุงุณูุฉ ุงูุนููุงุ ุจุฅุดุฑุงู ูุฒุงุฑุฉ ุงูุชุฑุจูุฉ ูุงูุชุนููู ุงูููุณุทูููุฉ." />
  <meta name="author" content="ูุฒุงุฑุฉ ุงูุชุฑุจูุฉ ูุงูุชุนููู ุงูููุณุทูููุฉ โ ูุฏุฑุณุฉ ุฐููุฑ ุงููุงุฑูู ุงูุฃุณุงุณูุฉ ุงูุนููุงุ ุจูุช ูููุง โ ูุฏูุฑูุฉ ุฑุงู ุงููู ูุงูุจูุฑุฉ" />
  <style>
    :root {
      --primary:#2563eb; --accent:#10b981; --danger:#ef4444; --warn:#f59e0b;
      --bg:#f8fafc; --text:#0f172a; --muted:#475569; --card:#ffffff;
      --border:#e5e7eb;
    }
    *{box-sizing:border-box}
    html, body { height: 100%; }
    body{
      font-family:"Tahoma","Segoe UI",system-ui,sans-serif;
      background:var(--bg); color:var(--text); margin:0; line-height:1.65;
    }
    header{
      background:linear-gradient(135deg,var(--primary),#7c3aed);
      color:#fff; padding:24px 16px; text-align:center
    }
    header h1{margin:0 0 6px;font-size:22px}
    header p{margin:0;font-size:13px;opacity:.95}
    .container{max-width:1100px;margin:20px auto;padding:0 12px 40px}

    /* sections */
    .section{
      background:var(--card); border:1px solid var(--border); border-radius:16px;
      padding:16px; margin-bottom:18px; box-shadow:0 2px 10px rgba(0,0,0,.05)
    }
    .section h2{font-size:18px;margin:0 0 8px}
    .sub{font-size:13px;color:var(--muted);margin:-4px 0 10px}

    /* flashcards */
    .cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:14px}
    .card{border-radius:14px;overflow:hidden;box-shadow:0 3px 12px rgba(0,0,0,.08);border:1px solid var(--border);background:#fff}
    .card-head{padding:12px 14px;color:#fff;font-weight:700}
    .card-body{padding:12px 14px}
    .pill{display:inline-block;background:#e0e7ff;color:#3730a3;padding:2px 8px;border-radius:999px;font-size:12px;margin-right:6px}
    .list{margin:8px 0 0;padding-inline-start:18px}
    .list li{margin:4px 0}

    /* color themes */
    .theme-nut .card-head{background:#22c55e}
    .theme-grow .card-head{background:#3b82f6}
    .theme-move .card-head{background:#f97316}
    .theme-exc .card-head{background:#ef4444}
    .theme-resp .card-head{background:#facc15;color:#111827}
    .theme-repr .card-head{background:#a855f7}
    .theme-meta .card-head{background:#6b7280}
    .theme-breath .card-head{background:#1e40af}
    .theme-photo .card-head{background:#16a34a}

    /* questions */
    .q{border:1px dashed var(--border);border-radius:12px;padding:12px;margin-bottom:10px;background:#fafafa}
    .q label{display:block;font-weight:700;margin-bottom:6px}
    input[type="text"], textarea{
      width:100%;padding:10px;border:1px solid #d1d5db;border-radius:10px;font-size:14px;background:#fff
    }
    textarea{resize:vertical}
    .hint{font-size:12px;color:#6b7280;margin-top:4px;display:none}
    .fb{margin-top:8px;font-size:13px;padding:8px;border-radius:10px;display:none}
    .fb.ok{background:#f0fdf4;border:1px solid #86efac;color:#166534}
    .fb.no{background:#fef2f2;border:1px solid #fecaca;color:#7f1d1d}
    .ctl{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}
    button{border:none;border-radius:10px;padding:9px 14px;font-size:14px;cursor:pointer}
    .primary{background:var(--primary);color:#fff}
    .ghost{background:#fff;border:1px solid #cbd5e1;color:#0f172a}
    .success{background:var(--accent);color:#fff}
    .danger{background:var(--danger);color:#fff}
    .warn{background:var(--warn);color:#fff}

    /* drag & drop */
    .drag-wrap{display:flex;gap:16px;flex-wrap:wrap}
    .drag-pool,.drop-area{flex:1;min-width:280px}
    .item{padding:10px;background:#e0f2fe;border:1px solid #93c5fd;border-radius:10px;margin:6px 0;cursor:grab}
    .zone{min-height:70px;border:2px dashed #d1d5db;border-radius:12px;padding:10px;margin:8px 0}
    .zone.ok{border-color:#86efac;background:#f0fdf4}
    .zone.no{border-color:#fecaca;background:#fef2f2}

    /* score + report */
    .score{background:#ecfeff;border:1px solid #a5f3fc;color:#0e7490;padding:12px;border-radius:12px;margin-top:10px;display:none}
    .report{background:#fff7ed;border:1px solid #fed7aa;color:#9a3412;padding:12px;border-radius:12px;margin-top:10px;display:none}
    .credits{text-align:center;font-size:12px;color:#64748b;margin-top:24px}

    /* content protection */
    html, body, .container, .section, .cards, .card, .q, .item, .zone {
      -webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select:none;
    }
    img{pointer-events:none}

    /* refined watermark */
    .wm-grid {
      position: fixed; inset: 0; z-index: 1; pointer-events:none;
      background-size: 360px 240px;
      background-image:
        repeating-linear-gradient(135deg, rgba(17,24,39,0.06) 0px, rgba(17,24,39,0.06) 1px, transparent 1px, transparent 60px);
      opacity: 0.16;
      mix-blend-mode: multiply;
    }
    .wm-text {
      position: fixed; inset: 0; z-index: 2; pointer-events:none;
      color:#0f172a; opacity:0.10; font-weight:700; font-size: 20px; line-height: 1.4;
      transform: rotate(-18deg);
      display:flex; align-items:center; justify-content:center; text-align:center; white-space: pre-wrap;
    }
    header, .container, .credits { position: relative; z-index: 3; }

    @media (prefers-reduced-motion: reduce) {
      .wm-grid { opacity: 0.12; }
      .wm-text { opacity: 0.08; }
    }
  </style>
</head>
<body>
<header>
  <h1>ูุฑุงุฌุนุฉ ุชูุงุนููุฉ: ุฎุตุงุฆุต ุงููุงุฆูุงุช ุงูุญูุฉ โ ุงูุตู ุงูุณุงุจุน</h1>
  <p>ูุฒุงุฑุฉ ุงูุชุฑุจูุฉ ูุงูุชุนููู ุงูููุณุทูููุฉ โ ุฐููุฑ ุงููุงุฑูู ุงูุฃุณุงุณูุฉ ุงูุนููุงุ ุจูุช ูููุง โ ูุฏูุฑูุฉ ุฑุงู ุงููู ูุงูุจูุฑุฉ</p>
</header>

<div class="container" id="appRoot">
  <!-- ุจุทุงูุงุช ุชุนููููุฉ ุดุงููุฉ -->
  <div class="section">
    <h2>ุงูุจุทุงูุงุช ุงูุชุนููููุฉ ุงูุดุงููุฉ</h2>
    <p class="sub">ุงูุฑุฃ ุงูุจุทุงูุงุช ุซู ุฌุฑูุจ ุงูุฃูุดุทุฉ. ูู ุจุทุงูุฉ ุชุญุชูู ุชุนุฑูููุงุ ุฃูุซูุฉุ ุฃูููุฉุ ููุนุงุฏูุงุช ุนูุฏ ุงูุญุงุฌุฉ.</p>

    <div class="cards">
      <!-- ุงูุชุบุฐูุฉ -->
      <div class="card theme-nut">
        <div class="card-head">๐ฌ ุงูุชุบุฐูุฉ <span class="pill">ุงูุฐุงุชูุฉ ูุบูุฑ ุงูุฐุงุชูุฉ</span></div>
        <div class="card-body">
          <b>ุงูุชุนุฑูู:</b> ุงูุญุตูู ุนูู ุงูุบุฐุงุก ูุจูุงุก ุงูุฌุณู ูุฅูุชุงุฌ ุงูุทุงูุฉ.<br/>
          <b>ุฃููุงุน:</b> ุฐุงุชูุฉ (ูุจุงุชุงุช โ ุจูุงุก ุถูุฆู)ุ ุบูุฑ ุฐุงุชูุฉ (ุฅูุณุงู/ุญููุงูุงุช)ุ ูุชุฑููุฉ (ูุทุฑูุงุช ุชุญูู ุงูุจูุงูุง)ุ ูุชุทููุฉ (ููู/ุฏูุฏุงู/ุจุนูุถ).<br/>
          <b>ูุนุงุฏูุฉ ุงูุจูุงุก ุงูุถูุฆู:</b> ูุงุก + ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู + ุถูุก + ูููุฑูููู โ ุณูุฑูุงุช + ุฃูุณุฌูู.<br/>
          <b>ุฃูููุฉ:</b> ุฅูุชุงุฌ ุงูุบุฐุงุก ูุงูุฃูุณุฌูู ูุงุณุชูุฑุงุฑ ุฏูุฑุฉ ุงูุญูุงุฉ.
        </div>
      </div>

      <!-- ุงูููู -->
      <div class="card theme-grow">
        <div class="card-head">๐ฑ ุงูููู <span class="pill">ุงูุฎููุฉ ูุงูุงููุณุงู</span></div>
        <div class="card-body">
          <b>ุงูุชุนุฑูู:</b> ุฒูุงุฏุฉ ูุชุบูุฑ ูู ุงูุญุฌู ูุงููุชูุฉ ููุธุงุฆู ุงูุฌุณู.<br/>
          <b>ุงููุณุคูู:</b> ุงูุฎููุฉ ุนุจุฑ ุงูุงููุณุงู ุงูุฎููู.<br/>
          <b>ุงููุฑุงุญู:</b> ุงูุทูููุฉ (0โ6)ุ ุงููุฏุฑุณุฉ (6โ12)ุ ุงููุฑุงููุฉ (12โ20)ุ ุงูุดุจุงุจ (20โ45)ุ ุงูุดูุฎูุฎุฉ (45+).<br/>
          <b>ุฃูููุฉ:</b> ุชุทููุฑ ุงููุธุงุฆูุ ุงูุชุณุงุจ ุงูููุงุฑุงุชุ ุธููุฑ ุตูุงุช ุฌูุณูุฉ ุซุงูููุฉ.
        </div>
      </div>

      <!-- ุงูุญุฑูุฉ -->
      <div class="card theme-move">
        <div class="card-head">๐โโ๏ธ ุงูุญุฑูุฉ <span class="pill">ุงูุชูุงููุฉ/ููุถุนูุฉ</span></div>
        <div class="card-body">
          <b>ุงูุชุนุฑูู:</b> ุงูุชุบูุฑ ูู ุงูููุถุน ุฃู ุงูููุงู.<br/>
          <b>ุฃููุงุน:</b> ุงูุชูุงููุฉ (ุงูุฌุณู ููู)ุ ููุถุนูุฉ (ุฌุฒุก ูู ุงูุฌุณู: ุงูููุจ/ุงูุฃูุฏุงุจ).<br/>
          <b>ุฃูุซูุฉ ุฏูููุฉ:</b> ุงูุฃููุจุง (ุฃูุฏุงู ูุงุฐุจุฉ)ุ ุงูููุงููุฏููููุงุณ/ุงูููุฌูููุง (ุฃุณูุงุท)ุ ุงูุจุงุฑุงููุณููู (ุฃูุฏุงุจ).
        </div>
      </div>

      <!-- ุงูุฅุฎุฑุงุฌ -->
      <div class="card theme-exc">
        <div class="card-head">๐ฝ ุงูุฅุฎุฑุงุฌ <span class="pill">ุงูุงุชุฒุงู ุงูุฏุงุฎูู</span></div>
        <div class="card-body">
          <b>ุงูุชุนุฑูู:</b> ุงูุชุฎูุต ูู ูุถูุงุช ุงูุฃูุถ ููุญูุงุธ ุนูู ุงูุงุชุฒุงู.<br/>
          <b>ูู ุงูุญููุงูุงุช:</b> ุจูู (ููุฑูุง)ุ ุนุฑูุ ุซุงูู ุฃูุณูุฏ ุงููุฑุจููุ ูุถูุงุช ุตูุจุฉ.<br/>
          <b>ูู ุงููุจุงุชุงุช:</b> ุงููุชุญ ุนุจุฑ ุงูุฃูุฑุงูุ ุชุฎุฒูู ุงููุถูุงุช ูู ุงูุฌุฐูุฑ.
        </div>
      </div>

      <!-- ุงูุงุณุชุฌุงุจุฉ -->
      <div class="card theme-resp">
        <div class="card-head">โก ุงูุงุณุชุฌุงุจุฉ <span class="pill">ูุคุซุฑุงุช ุฏุงุฎููุฉ/ุฎุงุฑุฌูุฉ</span></div>
        <div class="card-body">
          <b>ุงูุชุนุฑูู:</b> ุฑุฏ ูุนู ููุชููู ูุน ุงููุคุซุฑุงุช.<br/>
          <b>ุงููุคุซุฑุงุช:</b> ุฏุงุฎููุฉ (ุฌูุน/ุนุทุด)ุ ุฎุงุฑุฌูุฉ (ุถูุก/ุญุฑุงุฑุฉ/ุฑุงุฆุญุฉ).<br/>
          <b>ุงูุฃููุงุน:</b> ุณุฑูุนุฉ (ุฅูุณุงู/ุญููุงู)ุ ุจุทูุฆุฉ (ูุจุงุช: ุงูุชุญุงุก ุถูุฆู/ูุงุฆู).<br/>
          <b>ุฃูุซูุฉ:</b> ุฑูุน ุงููุฏู ุนูุฏ ุงูุถุฑุจุ ููู ุฏูุงุฑ ุงูุดูุณ ููุถูุก.
        </div>
      </div>

      <!-- ุงูุชูุงุซุฑ -->
      <div class="card theme-repr">
        <div class="card-head">๐ถ ุงูุชูุงุซุฑ <span class="pill">ุฌูุณู/ูุงุฌูุณู</span></div>
        <div class="card-body">
          <b>ุงูุชุนุฑูู:</b> ุฅูุชุงุฌ ุฃูุฑุงุฏ ุฌุฏูุฏุฉ ูุงุณุชูุฑุงุฑ ุงูููุน.<br/>
          <b>ุฌูุณู:</b> ุฐูุฑ + ุฃูุซู (ุฅูุณุงูุ ุญูุงูุ ูุจุงุชุงุช ุฒูุฑูุฉ).<br/>
          <b>ูุงุฌูุณู:</b> ุงูุดุทุงุฑ (ุฃููุจุง/ุจูุชูุฑูุง)ุ ุชุจุฑุนู (ุฎููุฑุฉ)ุ ุชุฌุฒุฆุฉ (ูุฌู ุงูุจุญุฑ)ุ ุฎุถุฑู (ุนูู/ูุณุงุฆู/ุชุทุนูู).
        </div>
      </div>

      <!-- ุงูุฃูุถ -->
      <div class="card theme-meta">
        <div class="card-head">๐ ุงูุฃูุถ <span class="pill">ุจูุงุก ููุฏู</span></div>
        <div class="card-body">
          <b>ุงูุชุนุฑูู:</b> ุชูุงุนูุงุช ููููุงุฆูุฉ ูุณุชูุฑุฉ ุถุฑูุฑูุฉ ููุชุบุฐูุฉ ูุงูููู ูุงูุทุงูุฉ.<br/>
          <b>ุงูุจูุงุก:</b> ูู ุจุณูุท ุฅูู ูุนูุฏุ ูุญุชุงุฌ ุทุงูุฉ (ูุซู ุงูุจูุงุก ุงูุถูุฆู).<br/>
          <b>ุงููุฏู:</b> ูู ูุนูุฏ ุฅูู ุจุณูุทุ ููุชุฌ ุทุงูุฉ (ูุซู ุงูุชููุณ).
        </div>
      </div>

      <!-- ุงูุชููุณ -->
      <div class="card theme-breath">
        <div class="card-head">๐ฌ๏ธ ุงูุชููุณ <span class="pill">ููุงุฆู/ูุงููุงุฆู</span></div>
        <div class="card-body">
          <b>ููุงุฆู:</b> ุฌููููุฒ + ุฃูุณุฌูู โ ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู + ูุงุก + ุทุงูุฉ.<br/>
          <b>ูุงููุงุฆู (ุชุฎูุฑ):</b> ุฌููููุฒ โ ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู + ูุญูู + ุทุงูุฉ (ูุซู ุงูุฎููุฑุฉ).
        </div>
      </div>

      <!-- ุงูุจูุงุก ุงูุถูุฆู -->
      <div class="card theme-photo">
        <div class="card-head">โ๏ธ ุงูุจูุงุก ุงูุถูุฆู <span class="pill">ุงููุนุงุฏูุฉ ุงูุฃุณุงุณูุฉ</span></div>
        <div class="card-body">
          <b>ุงููุนุงุฏูุฉ:</b> ูุงุก + ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู + ุถูุก + ูููุฑูููู โ ุณูุฑูุงุช + ุฃูุณุฌูู.<br/>
          <b>ุฃูููุฉ:</b> ูุตุฏุฑ ุงูุบุฐุงุก ูุงูุฃูุณุฌูู ุนูู ุงูุฃุฑุถ.
        </div>
      </div>
    </div>
  </div>

  <!-- ุฃูุดุทุฉ ุชูุงุนููุฉ ููุตู ุงูุณุงุจุน -->
  <div class="section">
    <h2>ุฃูุดุทุฉ ุชูุงุนููุฉ ููุตู ุงูุณุงุจุน</h2>
    <p class="sub">ุฃุฌุจ ุนู ุงูุฃูุดุทุฉุ ุซู ุงุถุบุท "ุชุญูู" ููุญุตูู ุนูู ุชุบุฐูุฉ ุฑุงุฌุนุฉ ููุฑูุฉ.</p>

    <!-- ุชุฑุชูุจ ูุฑุงุญู ุงูููู -->
    <div class="q" data-type="order" data-keys="ุงูุทูููุฉ,ุงููุฏุฑุณุฉ,ุงููุฑุงููุฉ,ุงูุดุจุงุจ,ุงูุดูุฎูุฎุฉ">
      <label>ูุดุงุท 1: ุฑุชุจ ูุฑุงุญู ุงูููู ุนูุฏ ุงูุฅูุณุงู</label>
      <input type="text" placeholder="ุงูุชุจ: ุงูุทูููุฉุ ุงููุฏุฑุณุฉุ ุงููุฑุงููุฉุ ุงูุดุจุงุจุ ุงูุดูุฎูุฎุฉ" aria-label="ุชุฑุชูุจ ูุฑุงุญู ุงูููู">
      <div class="ctl">
        <button class="primary" onclick="checkOrder(this)">ุชุญูู</button>
        <button class="ghost" onclick="toggleHint(this)">ุชูููุญ</button>
      </div>
      <div class="fb ok">ุชุฑุชูุจ ุตุญูุญุ ุฃุญุณูุช.</div>
      <div class="fb no">ุฎุทุฃ ูู ุงูุชุฑุชูุจุ ุฑุงุฌุน ุงูุชุณูุณู ุงูุนูุฑู.</div>
      <div class="hint">ุงุจุฏุฃ ุจุงูุทูููุฉ ูุงูุชูู ุจุงูุดูุฎูุฎุฉ.</div>
    </div>

    <!-- ููููุงุช ูุนุงุฏูุฉ ุงูุจูุงุก ุงูุถูุฆู -->
    <div class="q" data-type="set" data-keys="ูุงุก,ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู,ุถูุก,ูููุฑูููู,ุณูุฑูุงุช,ุฃูุณุฌูู">
      <label>ูุดุงุท 2: ุงูุชุจ ููููุงุช ูุนุงุฏูุฉ ุงูุจูุงุก ุงูุถูุฆู ูุงููุฉ</label>
      <textarea rows="2" placeholder="ุงุฐูุฑ: ูุงุกุ ุซุงูู ุฃูุณูุฏ ุงููุฑุจููุ ุถูุกุ ูููุฑููููุ ุณูุฑูุงุชุ ุฃูุณุฌูู" aria-label="ููููุงุช ุงูุจูุงุก ุงูุถูุฆู"></textarea>
      <div class="ctl">
        <button class="primary" onclick="checkSet(this)">ุชุญูู</button>
        <button class="ghost" onclick="toggleHint(this)">ุชูููุญ</button>
      </div>
      <div class="fb ok">ููุชุงุฒ: ุงููุนุงุฏูุฉ ูุงููุฉ.</div>
      <div class="fb no">ููุต ุนูุตุฑ ุฃู ุฃูุซุฑ (ูุง ุชูุณู ุงูุถูุก ูุงููููุฑูููู).</div>
      <div class="hint">ุฃุถู ุถูุก ุงูุดูุณ ูุงููููุฑูููู ุฅูู ุงููุงุก ูCOโ.</div>
    </div>

    <!-- ุชุตููู ุฃููุงุท ุงูุชุบุฐูุฉ -->
    <div class="q" data-type="classify" data-keys="ุฐุงุชูุฉ:ูุจุงุช,ุบูุฑ ุฐุงุชูุฉ:ุฅูุณุงู|ุญููุงูุงุช,ูุชุฑููุฉ:ูุทุฑูุงุช,ูุชุทููุฉ:ููู|ุฏูุฏุงู|ุจุนูุถ">
      <label>ูุดุงุท 3: ุตููู ุงูุฃูุซูุฉ ุญุณุจ ููุท ุงูุชุบุฐูุฉ</label>
      <textarea rows="3" placeholder="ูุซุงู: ุฐุงุชูุฉ: ูุจุงุชุ ุบูุฑ ุฐุงุชูุฉ: ุฅูุณุงู/ุญููุงูุงุชุ ูุชุฑููุฉ: ูุทุฑูุงุชุ ูุชุทููุฉ: ููู/ุฏูุฏุงู/ุจุนูุถ" aria-label="ุชุตููู ุงูุชุบุฐูุฉ"></textarea>
      <div class="ctl">
        <button class="primary" onclick="checkClassify(this)">ุชุญูู</button>
        <button class="ghost" onclick="toggleHint(this)">ุชูููุญ</button>
      </div>
      <div class="fb ok">ุชุตููู ุตุญูุญ ููุงุถุญ.</div>
      <div class="fb no">ุงุญุฐุฑ: ุงูุฅูุณุงู/ุงูุจูุฑุฉ ููุณุง ูุชุฑูููู.</div>
      <div class="hint">ุงููุชุฑูู ูุญูู ุงูุจูุงูุงุ ุบูุฑ ุงูุฐุงุชู ูุชูุงูู ูุงุฆูุงุช ุฃุฎุฑู.</div>
    </div>

    <!-- ูุทุงุจูุฉ Drag & Drop -->
    <div class="q">
      <label>ูุดุงุท 4: ูุทุงุจูุฉ Drag & Drop โ ุงุณุญุจ ุงูุชุนุฑูู ุฅูู ุงูุฎุงุตูุฉ ุงูููุงุณุจุฉ</label>
      <div class="drag-wrap">
        <div class="drag-pool" aria-label="ุนูุงุตุฑ ุงูุณุญุจ">
          <div class="item" draggable="true" ondragstart="drag(event)" id="it1">ุนูููุฉ ุงูุญุตูู ุนูู ุงูุบุฐุงุก</div>
          <div class="item" draggable="true" ondragstart="drag(event)" id="it2">ุฒูุงุฏุฉ ุงูุญุฌู ูุงููุชูุฉ</div>
          <div class="item" draggable="true" ondragstart="drag(event)" id="it3">ุงูุชุฎูุต ูู ุงููุถูุงุช</div>
          <div class="item" draggable="true" ondragstart="drag(event)" id="it4">ุฑุฏ ูุนู ูููุคุซุฑุงุช</div>
          <div class="item" draggable="true" ondragstart="drag(event)" id="it5">ุฅูุชุงุฌ ุฃูุฑุงุฏ ุฌุฏูุฏุฉ</div>
          <div class="item" draggable="true" ondragstart="drag(event)" id="it6">ุชุบูุฑ ุงูููุถุน/ุงูููุงู</div>
        </div>
        <div class="drop-area" aria-label="ููุงุทู ุงูุฅุณูุงุท">
          <div class="zone" data-target="ุงูุชุบุฐูุฉ" ondrop="drop(event)" ondragover="allowDrop(event)">๐ฌ ุงูุชุบุฐูุฉ</div>
          <div class="zone" data-target="ุงูููู" ondrop="drop(event)" ondragover="allowDrop(event)">๐ฑ ุงูููู</div>
          <div class="zone" data-target="ุงูุฅุฎุฑุงุฌ" ondrop="drop(event)" ondragover="allowDrop(event)">๐ฝ ุงูุฅุฎุฑุงุฌ</div>
          <div class="zone" data-target="ุงูุงุณุชุฌุงุจุฉ" ondrop="drop(event)" ondragover="allowDrop(event)">โก ุงูุงุณุชุฌุงุจุฉ</div>
          <div class="zone" data-target="ุงูุชูุงุซุฑ" ondrop="drop(event)" ondragover="allowDrop(event)">๐ถ ุงูุชูุงุซุฑ</div>
          <div class="zone" data-target="ุงูุญุฑูุฉ" ondrop="drop(event)" ondragover="allowDrop(event)">๐โโ๏ธ ุงูุญุฑูุฉ</div>
        </div>
      </div>
      <div class="ctl">
        <button class="primary" onclick="evaluateDrag()">ุชุญูู ุงููุทุงุจูุฉ</button>
        <button class="ghost" onclick="resetDrag()">ุฅุนุงุฏุฉ ุงููุดุงุท</button>
      </div>
      <div class="fb ok" id="drag-ok">ูุทุงุจูุฉ ุตุญูุญุฉุ ุฃุญุณูุช.</div>
      <div class="fb no" id="drag-no">ููุฌุฏ ุนุฏู ุชุทุงุจูุ ุฑุงุฌุน ุงูุชุนุฑููุงุช.</div>
    </div>
  </div>

  <!-- ุงุฎุชุจุงุฑ ูุตูุฑ ูุชูููู ุดุงูู -->
  <div class="section" id="quiz">
    <h2>ุงุฎุชุจุงุฑ ูุตูุฑ: ุชูููู ุงูููุงุฑุงุช</h2>
    <p class="sub">ุชุบุฐูุฉ ุฑุงุฌุนุฉ ููุฑูุฉุ ุฏุฑุฌุฉ ุชูุฑูุจูุฉุ ูุชูุฑูุฑ ููุงุท ุงูููุฉ ูุงูุถุนู ูุน ุฑุตุฏ ุงููุณุฎ/ุงููุตู.</p>

    <div class="q" data-points="3" data-type="text" data-keywords="ูุงุก,ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู,ุถูุก,ูููุฑูููู,ุณูุฑูุงุช,ุฃูุณุฌูู">
      <label>1) ุงูุชุจ ูุนุงุฏูุฉ ุงูุจูุงุก ุงูุถูุฆู ูุงููุฉ</label>
      <textarea rows="3" placeholder="ูุงุก + ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู + ุถูุก + ูููุฑูููู โ ุณูุฑูุงุช + ุฃูุณุฌูู"></textarea>
      <div class="fb ok">ุตุญูุญ: ุงูุนูุงุตุฑ ุงูุฃุณุงุณูุฉ ููุชููุฉ.</div>
      <div class="fb no">ุฃููู ุงูุนูุงุตุฑ: ูุงุกุ COโุ ุถูุกุ ูููุฑููููุ ุณูุฑูุงุชุ ุฃูุณุฌูู.</div>
    </div>

    <div class="q" data-points="3" data-type="text" data-keywords="ุฌููููุฒ,ุฃูุณุฌูู,ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู,ูุงุก,ุทุงูุฉ">
      <label>2) ุงูุชุจ ูุนุงุฏูุฉ ุงูุชููุณ ุงูููุงุฆู</label>
      <textarea rows="3" placeholder="ุฌููููุฒ + ุฃูุณุฌูู โ ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู + ูุงุก + ุทุงูุฉ"></textarea>
      <div class="fb ok">ููุชุงุฒ: ุตูุงุบุฉ ุตุญูุญุฉ.</div>
      <div class="fb no">ุงุฐูุฑ ุงูุฌููููุฒ ูุงูุฃูุณุฌูู ูุงูููุงุชุฌ (COโุ ูุงุกุ ุทุงูุฉ).</div>
    </div>

    <div class="q" data-points="2" data-type="text" data-keywords="ุบูุฑ ุฐุงุชูุฉ,ูุชุฑููุฉ,ุชุญูู ุงูุจูุงูุง,ุชุชูุงูู ูุงุฆูุงุช ุฃุฎุฑู,ูุทุฑูุงุช,ุฃูุซูุฉ">
      <label>3) ูุฑูู ุจูู ุบูุฑ ุฐุงุชูุฉ ุงูุชุบุฐูุฉ ูุงููุชุฑููุฉ ูุน ูุซุงู</label>
      <textarea rows="3" placeholder="ุบูุฑ ุฐุงุชูุฉ: ุชุชูุงูู ูุงุฆูุงุช ุฃุฎุฑูุ ูุชุฑููุฉ: ุชุญูู ุจูุงูุง (ูุทุฑูุงุช)."></textarea>
      <div class="fb ok">ุชูููุฒ ุตุญูุญ ูุฃูุซูุฉ ููุงุณุจุฉ.</div>
      <div class="fb no">ูุง ุชุถุน ุงูุฅูุณุงู/ุงูุจูุฑุฉ ุถูู ุงููุชุฑูููู.</div>
    </div>

    <div class="q" data-points="2" data-type="text" data-keywords="ุชุฎูุฑ,ูุงููุงุฆู,ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู,ูุญูู,ููุงุนุงุช">
      <label>4) ูุณูุฑ ุธููุฑ ุงูููุงุนุงุช ูู ุชุฌุฑุจุฉ ุงูุฎููุฑุฉ</label>
      <textarea rows="3" placeholder="ุจุณุจุจ ุงูุชุฎูุฑ ุงููุงููุงุฆู ูุฅูุชุงุฌ COโ."></textarea>
      <div class="fb ok">ุฑุจุท ุนููู ุตุญูุญ.</div>
      <div class="fb no">ุงุฑุจุท ุงูููุงุนุงุช ุจู COโ ุงููุงุชุฌ ุนู ุงูุชุฎูุฑ ุงููุงููุงุฆู.</div>
    </div>

    <div class="q" data-points="2" data-type="text" data-keywords="ุงูุชูุงููุฉ,ููุถุนูุฉ,ุงูููุจ,ุงูุฃูุฏุงุจ,ุฃููุจุง,ุฃุณูุงุท,ุฃูุฏุงุจ">
      <label>5) ุงุฐูุฑ ููุนู ุงูุญุฑูุฉ ูุน ุฃูุซูุฉ</label>
      <textarea rows="3" placeholder="ุงูุชูุงููุฉ: ุงูุฌุณู ูููุ ููุถุนูุฉ: ุงูููุจ/ุงูุฃูุฏุงุจุ ุฃูุซูุฉ ุฏูููุฉ: ุฃููุจุง/ููุฌูููุง/ุจุงุฑุงููุณููู."></textarea>
      <div class="fb ok">ุฃูุซูุฉ ุฌูุฏุฉ ููุชูุงุฒูุฉ.</div>
      <div class="fb no">ุฃุถู ูุซุงููุง ูู ุงููุงุฆูุงุช ุงูุฏูููุฉ.</div>
    </div>

    <div class="q" data-points="3" data-type="text" data-keywords="ุฏุงุฎููุฉ,ุฎุงุฑุฌูุฉ,ุถูุก,ุญุฑุงุฑุฉ,ุฌูุน,ุงูุชุญุงุก,ุณุฑูุนุฉ,ุจุทูุฆุฉ">
      <label>6) ูุถูุญ ุงููุคุซุฑุงุช ูุฃููุงุน ุงูุงุณุชุฌุงุจุฉ ูุน ูุซุงู</label>
      <textarea rows="3" placeholder="ุฏุงุฎููุฉ: ุฌูุน/ุนุทุดุ ุฎุงุฑุฌูุฉ: ุถูุก/ุญุฑุงุฑุฉุ ุงุณุชุฌุงุจุฉ ุณุฑูุนุฉ: ุฅูุณุงูุ ุจุทูุฆุฉ: ูุจุงุช (ุงูุชุญุงุก ุถูุฆู)."></textarea>
      <div class="fb ok">ุชุญููู ูุงุถุญ ููุชูุงูู.</div>
      <div class="fb no">ุฃุถู ูุซุงููุง ูุงูุชุญุงุก ุงููุจุงุช ูุญู ุงูุถูุก.</div>
    </div>

    <div class="ctl">
      <button class="primary" onclick="evaluate()">ุชูููู ุงูุฅุฌุงุจุงุช</button>
      <button class="ghost" onclick="showAllFeedback()">ุฅุธูุงุฑ ุงูุชุบุฐูุฉ ุงูุฑุงุฌุนุฉ</button>
      <button class="danger" onclick="resetAll()">ุฅุนุงุฏุฉ ุงููุญุงููุฉ</button>
      <button class="warn" onclick="exportCSV()">ุชุตุฏูุฑ ุงููุชุงุฆุฌ (CSV)</button>
    </div>

    <div id="score" class="score" role="status"></div>
    <div id="report" class="report"></div>
  </div>

  <div class="credits">
    ูุฒุงุฑุฉ ุงูุชุฑุจูุฉ ูุงูุชุนููู ุงูููุณุทูููุฉ โ ูุฏุฑุณุฉ ุฐููุฑ ุงููุงุฑูู ุงูุฃุณุงุณูุฉ ุงูุนููุงุ ุจูุช ูููุง โ ูุฏูุฑูุฉ ุฑุงู ุงููู ูุงูุจูุฑุฉ
    <br>ุฅุนุฏุงุฏ: ุงูุฃุณุชุงุฐ ุนุจุฏ ุงููู ุนุจูุฏ โ ูุฎุตุต ูุชุฏุฑูุจ ุงูุตู ุงูุณุงุจุน
  </div>
</div>

<!-- refined watermark overlays -->
<div class="wm-grid" aria-hidden="true"></div>
<div class="wm-text" id="wm" aria-hidden="true">ูุฒุงุฑุฉ ุงูุชุฑุจูุฉ ูุงูุชุนููู ุงูููุณุทูููุฉ โข ุฐููุฑ ุงููุงุฑูู ุงูุฃุณุงุณูุฉ ุงูุนููุง โ ุจูุช ูููุง โข ูุฏูุฑูุฉ ุฑุงู ุงููู ูุงูุจูุฑุฉ โข ุงูุตู ุงูุณุงุจุน</div>

<script>
  // ===== Deadline (example: ุงูุฃุญุฏ ุงููุงุฏู ุงูุณุงุนุฉ 7:00 ุตุจุงุญูุง) =====
  // ุบููุฑ ุงูุชุงุฑูุฎ ุญุณุจ ุญุงุฌุชู: ุงูุณูุฉุ ุงูุดูุฑ-1ุ ุงููููุ ุงูุณุงุนุฉุ ุงูุฏูููุฉ
  const deadline = new Date(2025, 11, 7, 7, 0, 0);

  function checkDeadline() {
    const now = new Date();
    if (now >= deadline) {
      document.body.innerHTML = `
        <div style="text-align:center; padding:50px; font-family:Tahoma; color:#b91c1c;">
          <h1>ุงูุชูู ุงูููุนุฏ ุงููุญุฏุฏ</h1>
          <p>ูุฐู ุงูุตูุญุฉ ูู ุชุนุฏ ูุชุงุญุฉ ุจุนุฏ ${deadline.toLocaleString('ar-EG')}</p>
          <p>ูุฒุงุฑุฉ ุงูุชุฑุจูุฉ ูุงูุชุนููู ุงูููุณุทูููุฉ โ ูุฏุฑุณุฉ ุฐููุฑ ุงููุงุฑูู ุงูุฃุณุงุณูุฉ ุงูุนููุงุ ุจูุช ูููุง โ ูุฏูุฑูุฉ ุฑุงู ุงููู ูุงูุจูุฑุฉ</p>
        </div>
      `;
    }
  }
  checkDeadline();
  setInterval(checkDeadline, 60000);

  // ===== Helpers =====
  function normalize(str){
    return (str||"").toLowerCase()
      .replace(/[^\u0600-\u06FFa-z0-9\s]/g," ")
      .replace(/\s+/g," ").trim();
  }
  function toggleHint(btn){
    const q = btn.closest('.q');
    const h = q.querySelector('.hint'); if(!h) return;
    h.style.display = (h.style.display==='block' ? 'none' : 'block');
  }
  function showFB(q, ok){
    const okEl=q.querySelector('.fb.ok'), noEl=q.querySelector('.fb.no');
    if(ok){ okEl.style.display='block'; noEl.style.display='none' } else { noEl.style.display='block'; okEl.style.display='none' }
  }

  // ===== Activity checks =====
  function checkOrder(btn){
    const q = btn.closest('.q');
    const keys = q.dataset.keys.split(',').map(s=>normalize(s));
    const inp = q.querySelector('input[type="text"]').value;
    const text = normalize(inp).replace(/ุ/g,',').replace(/->|โ/g,',');
    const parts = text.split(',').map(s=>normalize(s)).filter(Boolean);
    const ok = JSON.stringify(parts) === JSON.stringify(keys);
    showFB(q, ok);
  }
  function checkSet(btn){
    const q = btn.closest('.q');
    const keys = q.dataset.keys.split(',').map(k=>normalize(k));
    const txt = normalize(q.querySelector('textarea').value);
    const ok = keys.every(k => txt.includes(k));
    showFB(q, ok);
  }
  function checkClassify(btn){
    const q = btn.closest('.q');
    const spec = q.dataset.keys.split(',');
    const txt = normalize(q.querySelector('textarea').value);
    let ok = true;
    spec.forEach(pair=>{
      const [cat, items] = pair.split(':');
      const variants = items.split('|').map(v=>normalize(v));
      const hasAny = variants.some(v=>txt.includes(v));
      if(!txt.includes(normalize(cat)) || !hasAny) ok = false;
    });
    if(txt.includes('ูุชุฑูู') && (txt.includes('ุงูุณุงู')||txt.includes('ุจูุฑุฉ'))) ok = false;
    showFB(q, ok);
  }

  // ===== Drag & Drop =====
  const matchMap = {'it1':'ุงูุชุบุฐูุฉ','it2':'ุงูููู','it3':'ุงูุฅุฎุฑุงุฌ','it4':'ุงูุงุณุชุฌุงุจุฉ','it5':'ุงูุชูุงุซุฑ','it6':'ุงูุญุฑูุฉ'};
  function allowDrop(e){ e.preventDefault() }
  function drag(e){ e.dataTransfer.setData("text/plain", e.target.id) }
  function drop(e){
    e.preventDefault();
    const id = e.dataTransfer.getData("text/plain");
    const item = document.getElementById(id);
    if(e.currentTarget.classList.contains('zone')){
      e.currentTarget.appendChild(item);
    }
  }
  function evaluateDrag(){
    let ok = true;
    document.querySelectorAll('.zone').forEach(zone=>{
      const target = zone.dataset.target;
      const shouldId = Object.keys(matchMap).find(k=>matchMap[k]===target);
      const ids = Array.from(zone.querySelectorAll('.item')).map(x=>x.id);
      const good = ids.includes(shouldId);
      zone.classList.remove('ok','no'); zone.classList.add(good?'ok':'no');
      if(!good) ok = false;
    });
    document.getElementById('drag-ok').style.display = ok ? 'block':'none';
    document.getElementById('drag-no').style.display = ok ? 'none':'block';
  }
  function resetDrag(){
    const pool = document.querySelector('.drag-pool');
    document.querySelectorAll('.zone').forEach(z=>{
      z.classList.remove('ok','no');
      Array.from(z.querySelectorAll('.item')).forEach(it=>pool.appendChild(it));
    });
    document.getElementById('drag-ok').style.display='none';
    document.getElementById('drag-no').style.display='none';
  }

  // ===== Quiz evaluation + paste detection + report =====
  function evaluate(){
    const qs = document.querySelectorAll("#quiz .q");
    let total=0, earned=0; let strengths=[], weaknesses=[]; let pasteFlags=0;

    qs.forEach(q=>{
      const pts = parseFloat(q.dataset.points||'0'); total += pts;
      const area = q.querySelector("textarea, input[type='text']");
      const raw = area ? area.value : "";
      const txt = normalize(raw);
      const keyw = (q.dataset.keywords||"").split(',').map(k=>normalize(k)).filter(Boolean);

      // paste detection heuristic (multi-signal)
      const punctuationCount = (raw.match(/[โ\-โโ:ุ.,;]/g)||[]).length;
      const punctuationRatio = punctuationCount / Math.max(raw.length,1);
      const hasExactArrow = raw.includes('โ');
      const repeatedTerms = (txt.match(/(ูุงุก|ุซุงูู ุงู|ูููุฑูููู|ุณูุฑูุงุช|ุงูุณุฌูู|ุฌููููุฒ)/g)||[]).length;
      const longCopy = raw.length > 120 && punctuationRatio > 0.04;
      const copyLike = (hasExactArrow && repeatedTerms >= 2) || longCopy;

      if(copyLike) pasteFlags++;

      // keyword coverage scoring
      let hits=0; keyw.forEach(k=>{ if(k && txt.includes(k)) hits++ });
      const cov = keyw.length ? (hits/keyw.length) : 0;
      const alloc = pts * cov;
      if(hits>=1){ earned += alloc }

      const okEl = q.querySelector('.fb.ok'), noEl = q.querySelector('.fb.no');
      const ok = cov >= 0.7;
      if(ok){ okEl.style.display='block'; noEl.style.display='none'; strengths.push(q.querySelector('label').textContent.trim()) }
      else { noEl.style.display='block'; okEl.style.display='none'; weaknesses.push(q.querySelector('label').textContent.trim()) }
    });

    const scoreBox = document.getElementById("score");
    scoreBox.style.display="block";
    scoreBox.textContent=`ูุชูุฌุชู ุงูุชูุฑูุจูุฉ: ${earned.toFixed(1)} / ${total} ุนูุงูุฉ`;

    const report = document.getElementById("report");
    const pasteNote = pasteFlags>=2
      ? "ุฑูุตุฏุช ูุคุดุฑุงุช ุนูู ุงููุณุฎ/ุงููุตู. ุญุงูู ุตูุงุบุฉ ุงูุฅุฌุงุจุงุช ุจุฃุณููุจู ุงูุฎุงุต."
      : "ูุง ุชูุฌุฏ ูุคุดุฑุงุช ูุงุถุญุฉ ุนูู ุงููุณุฎ/ุงููุตู.";
    report.innerHTML = `
      <b>ุงูุชูููู ุงูุดุงูู:</b><br/>
      ููุงุท ุงูููุฉ:
      <ul class="list">${strengths.map(s=>`<li>${s}</li>`).join("") || "<li>ุจุญุงุฌุฉ ูุฅุจุฑุงุฒ ููุงุท ููุฉ ุนุจุฑ ุฅุฌุงุจุงุช ุฃุฏู.</li>"}</ul>
      ููุงุท ุงูุถุนู:
      <ul class="list">${weaknesses.map(s=>`<li>${s}</li>`).join("") || "<li>ูุง ุชูุฌุฏ ููุงุท ุถุนู ูุจูุฑุฉุ ุญุงูุธ ุนูู ูุฐุง ุงููุณุชูู.</li>"}</ul>
      <b>ููุงุญุธุฉ ุญูู ุงููุณุฎ/ุงููุตู:</b> ${pasteNote}
    `;
    report.style.display="block";
  }
  function showAllFeedback(){
    document.querySelectorAll('#quiz .fb').forEach(f=>f.style.display='block');
  }
  function resetAll(){
    document.querySelectorAll("textarea, input[type='text']").forEach(el=>el.value="");
    document.querySelectorAll(".fb").forEach(f=>f.style.display='none');
    document.querySelectorAll(".zone").forEach(z=>z.classList.remove('ok','no'));
    document.getElementById("score").style.display='none';
    document.getElementById("report").style.display='none';
  }
  function exportCSV(){
    const rows = [["ุงูุณุคุงู","ุงูุฅุฌุงุจุฉ"]];
    document.querySelectorAll("#quiz .q").forEach(q=>{
      const label = q.querySelector("label").textContent.trim();
      const area = q.querySelector("textarea, input[type='text']");
      rows.push([label, area ? area.value.replace(/\n/g,' ') : ""]);
    });
    const csv = rows.map(r=>r.map(v=>`"${(v||"").replace(/"/g,'""')}"`).join(",")).join("\n");
    const blob = new Blob([csv], {type:"text/csv;charset=utf-8;"});
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a"); a.href=url; a.download="ูุชุงุฆุฌ_ุงูุตู_ุงูุณุงุจุน_ุฎุตุงุฆุต_ุงููุงุฆูุงุช.csv"; a.click();
    URL.revokeObjectURL(url);
  }

  // ===== Content protection (best effort) =====
  document.addEventListener('contextmenu', e => e.preventDefault());
  document.addEventListener('dragstart', e => e.preventDefault());

  document.addEventListener('keydown', e => {
    const ctrlOrCmd = e.ctrlKey || e.metaKey;
    const key = e.key.toLowerCase();
    const blocked = (
      (ctrlOrCmd && ['c','x','v','s','p','u','a'].includes(key)) ||
      (ctrlOrCmd && e.shiftKey && ['i','c','j'].includes(key)) ||
      (key === 'f12') ||
      (e.key === 'PrintScreen')
    );
    if(blocked){
      e.preventDefault();
      e.stopPropagation();
      pulseWatermark();
    }
  });

  ['copy','cut','paste'].forEach(evt => {
    document.addEventListener(evt, e => {
      e.preventDefault();
      pulseWatermark();
    });
  });

  // Attempt to clear clipboard on PrintScreen (not guaranteed)
  document.addEventListener('keyup', async e => {
    if (e.key === 'PrintScreen' && navigator.clipboard) {
      try { await navigator.clipboard.writeText(''); pulseWatermark(); } catch (_) {}
    }
  });

  // ===== Refined watermark text with timestamp =====
  const wm = document.getElementById('wm');
  function setWatermarkText(){
    const now = new Date();
    const stamp = `${now.getFullYear()}-${String(now.getMonth()+1).padStart(2,'0')}-${String(now.getDate()).padStart(2,'0')} ${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}`;
    wm.textContent = `ูุฒุงุฑุฉ ุงูุชุฑุจูุฉ ูุงูุชุนููู ุงูููุณุทูููุฉ โข ุฐููุฑ ุงููุงุฑูู ุงูุฃุณุงุณูุฉ ุงูุนููุง โ ุจูุช ูููุง โข ูุฏูุฑูุฉ ุฑุงู ุงููู ูุงูุจูุฑุฉ โข ุงูุตู ุงูุณุงุจุน โข ${stamp}`;
  }
  setWatermarkText();
  setInterval(setWatermarkText, 60 * 1000);

  function pulseWatermark(){
    wm.style.opacity = '0.14';
    setTimeout(()=>{ wm.style.opacity = '0.10'; }, 700);
  }

  // Prevent iframe embedding (clickjacking)
  if (window.top !== window.self) {
    window.top.location = window.location.href;
  }

  // Enable drop handlers explicitly
  document.querySelectorAll('.zone').forEach(z=>{
    z.addEventListener('dragover', allowDrop);
    z.addEventListener('drop', drop);
  });
</script>
</body>
</html>
